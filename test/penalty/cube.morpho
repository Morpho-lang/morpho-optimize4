
import "../examples/cube.morpho"

var Nlevels = 4

var example = CubeExample() 
example.initialMesh()

for (i in 1..Nlevels) {
  print "===Level ${i}==="
  example.buildProblem()
  var adapt = example.buildAdapter() 
  var opt = PenaltyController(adapt, mu0=10)
  opt.optimize(20)

  if (i==Nlevels) break
  example.refine()
}

//Show(example.visualize())
