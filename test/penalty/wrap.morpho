
import "../examples/wrap.morpho"

var example = WrapExample()
example.build() 

var Nlevels = 3
for (i in 1..Nlevels) {
  var adapt = example.buildAdapter()
  var opt = PenaltyController(adapt, mu0=10)
  opt.optimize(20)
  if (i<Nlevels) { example.refine() }
}

print example.mesh

Show(example.visualize())
