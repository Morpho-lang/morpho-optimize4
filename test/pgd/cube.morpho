
import "../examples/cube.morpho"

var Nlevels = 3

var example = CubeExample() 
example.initialMesh()

for (i in 1..Nlevels) {
  print "===Level ${i}==="
  example.buildProblem()
  var adapt = example.buildAdapter() 
  var opt = ProjectedGradientDescentController(adapt, mu=100)
  opt.optimize(10000)

  if (i==Nlevels) break
  example.refine()
}

Show(example.visualize())

